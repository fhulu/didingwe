datatable:
  tooltip: false
  type: table
  auto_load: true
  text: $head $body $no_records
  class: [data,didi-listener,datatable]
  create: datatable
  head: { class: [didi] }
  titles: { class: [didi]}
  title: 
    class: [didi pad pad-small]
    sort_asc: [fa-solid fa-sort-up didi float-right pad-x pad-small] 
    sort_desc: [fa-solid fa-sort-down didi float-right pad-x pad-small]  
  body: { class: [didi,table-body] }
  min_row_height: 20
  search_delay: 250
  defaults: {}
  row_actions: []
  validate: no
  row_styles: 
  row:
    actions: []
    class: [didi]
  full_db_reader: select * from $id
  row_db_filter: where id = $key
  row_db_reader: $full_db_reader $row_db_filter
  values:
    - db.sql: $full_db_reader
  reload_row:
    - read_page: [full_db_reader,row_db_filter,row_db_reader]
    - db.values: $row_db_reader
    - clear_values: [full_db_reader,row_db_filter,row_db_reader]
    - trigger: [setRowData, "#affiliate_list", $key, _values]
    - clear_values
  


  cell:
    class: [didi]
    styles: {}
    controls:
      type: container
      contents: []
  script: [/didi/js/datatable.js]
  row_creator: { type: table_row }
  css: [/didi/css/datatable.css]
  flags: []
  position: top
  filter:
    name: ""
    desc: Filter by specific columns
    icon:
      tag: i
      class: [didi fa-solid fa-filter]
    box:
      class: [didi border border-width-thin tallest inherit-width]
  clear_filter:
    name: ""
    desc: Clear all current filters
    icon:
      tag: i
      class: [didi fa-solid fa-filter-circle-xmark]



  fields:
    - type: none
    - default: { span: 1, filter: yes, data: false}

  propagated_events: []
  trap: [reload]

  #paging
  paging:
    - statics
    - type: actioner
    - wrap: class

  goto_first:
    name: ""
    desc: Go to first page
    icon:
      tag: i
      class: [didi fa-solid fa-backward-fast]
  goto_prev:
    name: ""
    desc: Go to previous page
    icon:
      tag: i
      class: [didi fa-solid fa-backward]
  goto_next:
    name: ""
    desc: Go to next page
    icon:
      tag: i
      class: [didi fa-solid fa-forward]
  goto_last:
    name: ""
    desc: Go to last page
    icon:
      tag: i
      class: [didi fa-solid fa-forward-fast]

  # row actions
  row_actions:
    - default: { validate: none}
    - type: actioner
    - action: trigger
    - slide
    - slideoff
    - action: post

  footer_actions:
    - type: actioner

  no_records:
    type: datatable_no_records
    show: no

  collapse:
    name: "-"
    desc: Hide details
  expand:
    name: +
    desc: More details ...
    pages: []
    class: []

  slide:
    event: slide
    name: "<"
    desc: More options...

  slideoff:
    event: slideoff
    name: ">"
    desc: Hide options

  slideSpeed: 150
  searchDelay: 250

#todo: fix backend inheritance
export:
  name: Export to Excel
  desc: Export to an Excel spreadsheet
  action: redirect
  validate: none
  post:
    call: datatable::export(root,$key)
  query: " "
  target: _blank

 # todo: fix back-end to contextualise
print:
 desc: Print above contents
 action: redirect
 validate: none
 post:
   - call: datatable::pdf(root,$key)
 query: " "
 target: _blank


image_row_action:
  tag: i
  name: " "
  class: [fa, no-backcolor, pad-x pad-tiny, float-right, cursor-pointer]


datatable_no_records:
  type: p
  name: No records found.
  class: [datatable-no-records]
