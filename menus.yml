include: [menu]

quick_menu:
  type: menu
  items:
    - default: {class: [pointer-cursor,pad pad-small],type: font_awesome,text: $id}
    - login: {icon: user, action: dialog}
    - logout: {icon: sign-out}
    - register: {icon: pencil}

font_awesome:
  class: [pad-x pad-tiny]
  # on_click:
  #   - script: |
  #      var field = this.data('didi-field');
  #      if (!field.action) return;
  #      dataLayer.push({
  #         'event': 'VirtualPageView',
  #         'virtualPageURL': field.path,
  #         'virtualPageTitle' : field.desc
  #      });
  #      console.log("dataLayer", dataLayer)

main_menu:
  type: menu
  items:
    - home
    - compose
    - outbox
    - inbox
    - contacts
    - credits
    - administration
    - default: {class: [hide-medium,hide-large]}
    - login:
        action: dialog
        text: $login
        login: {type: font_awesome,icon: user,text: login}
    - buy_credits:
        action: dialog
        text: Credits $credits_available
        credits_available: { type: label }
    - user_profile:
        action: dialog
        access: auth
        url: /user/profile
        text: $full_name
        full_name: {type: font_awesome,icon: user}
    - logout:
        text: $logout
        logout: {type: font_awesome,icon: sign-out,text: logout}
    - register:
        text: $register
        register: {type: font_awesome,icon: pencil,text: register}
